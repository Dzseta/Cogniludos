"use strict";(self.webpackChunkcogniludos=self.webpackChunkcogniludos||[]).push([[102],{5102:(f,d,r)=>{r.r(d),r.d(d,{MemoryMatrixModule:()=>F});var u=r(9808),p=r(3868),m=r(1402),e=r(5e3),h=r(8966),n=r(3038),a=r(5615),v=r(9224),_=r(7423);function M(i,o){1&i&&e._UZ(0,"div",6)}function y(i,o){1&i&&e._UZ(0,"div",7)}function T(i,o){1&i&&e._UZ(0,"div",8)}function E(i,o){1&i&&e._UZ(0,"div",9)}function x(i,o){1&i&&e._UZ(0,"div",10)}function Z(i,o){1&i&&e._UZ(0,"div",11)}let k=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tile"]],inputs:{value:"value"},decls:6,vars:6,consts:[["class","empty",4,"ngIf"],["class","guessedRight",4,"ngIf"],["class","guessedWrong",4,"ngIf"],["class","emptyRight",4,"ngIf"],["class","guessed",4,"ngIf"],["class","notGuessed",4,"ngIf"],[1,"empty"],[1,"guessedRight"],[1,"guessedWrong"],[1,"emptyRight"],[1,"guessed"],[1,"notGuessed"]],template:function(t,s){1&t&&(e.YNc(0,M,1,0,"div",0),e.YNc(1,y,1,0,"div",1),e.YNc(2,T,1,0,"div",2),e.YNc(3,E,1,0,"div",3),e.YNc(4,x,1,0,"div",4),e.YNc(5,Z,1,0,"div",5)),2&t&&(e.Q6J("ngIf","0"==s.value),e.xp6(1),e.Q6J("ngIf","1"==s.value),e.xp6(1),e.Q6J("ngIf","2"==s.value),e.xp6(1),e.Q6J("ngIf","3"==s.value),e.xp6(1),e.Q6J("ngIf","4"==s.value),e.xp6(1),e.Q6J("ngIf","5"==s.value))},directives:[u.O5],styles:["div[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.empty[_ngcontent-%COMP%], .emptyRight[_ngcontent-%COMP%]{background-color:#593000}.guessedRight[_ngcontent-%COMP%]{background-color:#ffc107}.guessedWrong[_ngcontent-%COMP%]{background-color:#c20400}.empty[_ngcontent-%COMP%]:hover, .emptyRight[_ngcontent-%COMP%]:hover{background-color:#6f3d03}.guessed[_ngcontent-%COMP%]{background-color:#ffc107;box-shadow:0 0 0 5px #009600 inset}.notGuessed[_ngcontent-%COMP%]{background-color:#ffc107;box-shadow:0 0 0 5px #c20400 inset}"]}),i})();var A=r(8099);function b(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-tile",16),e.NdJ("click",function(){const g=e.CHM(t).index,l=e.oxw(),J=e.MAs(2);return l.makeMove(g,J)}),e.qZA()}2&i&&e.Q6J("value",o.$implicit)}function C(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&i){const t=o.$implicit,s=o.index;e.xp6(2),e.hij("",s+1,"."),e.xp6(2),e.Oqu(t.score),e.xp6(2),e.Oqu(t.difficulty),e.xp6(2),e.Oqu(t.date)}}function w(i,o){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"chrome_reader_mode"),e.qZA())}function U(i,o){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"videogame_asset"),e.qZA())}function q(i,o){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"list_alt"),e.qZA())}let z=(()=>{class i{constructor(t,s){this.dialog=t,this.scoreService=s,this.correctSound=new Audio,this.wrongSound=new Audio}ngOnInit(){this.scores=[],this.currentUser=JSON.parse(localStorage.getItem("user")),this.correctSound.src="../../../assets/correct.wav",this.correctSound.load(),this.wrongSound.src="../../../assets/wrong.wav",this.wrongSound.load()}startGame(t){this.scoreService.getAllScores(this.currentUser.email,"mm").then(s=>{s.size<5?(this.difficulty="k\xf6nny\u0171",this.maxLevel=5):s.size<10?(this.difficulty="k\xf6zepes",this.maxLevel=10):(this.difficulty="neh\xe9z",this.maxLevel=15),this.level=0,this.score=0,this.right=0,this.wrong=0,this.rows=6,this.columns=8,t.selected.completed=!0,t.next(),this.newGame()})}newGame(){if(this.level<this.maxLevel&&this.level++,this.level>this.maxLevel)return;let t;this.lightTiles=4+this.level,this.squares=Array(this.rows*this.columns).fill("0"),this.isWin=!1,this.isLoss=!1,this.isPlayable=!1,this.lightTileArray=[],this.guesses=0;for(let s=0;s<this.lightTiles;s++)t=Math.floor(Math.random()*this.rows*this.columns),this.lightTileArray.includes(t)?s--:(this.lightTileArray.push(t),this.squares.splice(t,1,"3"));this.showTiles()}makeMove(t,s){!this.isPlayable||("0"===this.squares[t]?(this.squares.splice(t,1,"2"),this.guesses++):"3"===this.squares[t]&&(this.squares.splice(t,1,"1"),this.guesses++),this.isWin=this.calculateWin(),this.isLoss=this.calculateLoss(),(this.isWin||this.isLoss)&&(this.isPlayable=!1,this.showRightTiles(),this.isWin?this.correctSound.play():this.wrongSound.play(),this.level==this.maxLevel?setTimeout(()=>{const c=new Date;this.scoreService.create({userEmail:this.currentUser.email,game:"mm",score:this.score,difficulty:this.difficulty,date:c.toLocaleDateString()}),this.scoreService.getUserScores(this.currentUser.email,"mm").then(g=>{this.scores=g.docs.map(l=>l.data())}),s.selected.completed=!0,s.next()},3e3):setTimeout(()=>{this.newGame()},3e3)))}showTiles(){setTimeout(()=>{for(var t of this.lightTileArray)this.squares[t]="1"},2e3),setTimeout(()=>{for(var t of this.lightTileArray)this.squares[t]="3";this.isPlayable=!0},5e3)}showRightTiles(){setTimeout(()=>{for(var t of this.lightTileArray)"3"===this.squares[t]?this.squares[t]="5":"1"===this.squares[t]&&(this.squares[t]="4")},1e3)}calculateWin(){for(var t of this.lightTileArray)if("1"!==this.squares[t])return!1;return this.score+=100*this.lightTiles,this.right+=this.lightTiles,!0}calculateLoss(){if(this.lightTiles<=this.guesses&&!this.isWin){for(var t of this.lightTileArray)"1"===this.squares[t]?(this.score+=100,this.right++):"3"===this.squares[t]&&(this.score-=100,this.wrong++);return!0}return!1}restart(t){t.reset()}openDialog(){this.dialog.open(O)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.uw),e.Y36(n.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-memory-matrix"]],decls:57,vars:15,consts:[[3,"linear"],["stepper",""],["label","Szab\xe1lyok","editable","false","state","rules",3,"completed"],["mat-card-image","","src","../../assets/mmBanner.png","alt","Mem\xf3ria M\xe1trix bor\xedt\xf3k\xe9p","width","400",1,"banner"],[1,"rules"],["mat-button","",3,"click"],["label","Mem\xf3ria M\xe1trix","editable","false","state","game",3,"completed"],[1,"container"],[1,"tileGrid"],[3,"value","click",4,"ngFor","ngForOf"],["label","Eredm\xe9nyek","editable","false","state","scores"],[4,"ngFor","ngForOf"],["mat-button","",3,"routerLink"],["matStepperIcon","rules"],["matStepperIcon","game"],["matStepperIcon","scores"],[3,"value","click"]],template:function(t,s){if(1&t){const c=e.EpF();e.TgZ(0,"body")(1,"mat-stepper",0,1)(3,"mat-step",2)(4,"h2"),e._uU(5,"Mem\xf3ria M\xe1trix"),e.qZA(),e._UZ(6,"img",3),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){e.CHM(c);const l=e.MAs(2);return s.startGame(l)}),e._uU(9,"Kezd\xe9s"),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){return s.openDialog()}),e._uU(11,"Szab\xe1lyok"),e.qZA()()(),e.TgZ(12,"mat-step",6)(13,"ul")(14,"li"),e._uU(15),e.qZA(),e.TgZ(16,"li"),e._uU(17),e.qZA(),e.TgZ(18,"li"),e._uU(19),e.qZA(),e.TgZ(20,"li"),e._uU(21),e.qZA()(),e.TgZ(22,"div",7)(23,"div",8),e.YNc(24,b,1,1,"app-tile",9),e.qZA()()(),e.TgZ(25,"mat-step",10)(26,"h2"),e._uU(27,"El\xe9rt eredm\xe9ny:"),e.qZA(),e.TgZ(28,"table")(29,"tr")(30,"th"),e._uU(31),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.qZA()()(),e.TgZ(36,"h2"),e._uU(37,"Legjobb eredm\xe9nyek:"),e.qZA(),e.TgZ(38,"table")(39,"tr")(40,"th"),e._uU(41,"Helyez\xe9s"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Pontsz\xe1m"),e.qZA(),e.TgZ(44,"th"),e._uU(45,"Neh\xe9zs\xe9g"),e.qZA(),e.TgZ(46,"th"),e._uU(47,"D\xe1tum"),e.qZA()(),e.YNc(48,C,9,4,"tr",11),e.qZA(),e.TgZ(49,"div")(50,"button",12),e._uU(51,"J\xe1t\xe9kok men\xfc"),e.qZA(),e.TgZ(52,"button",5),e.NdJ("click",function(){e.CHM(c);const l=e.MAs(2);return s.restart(l)}),e._uU(53,"\xdaj j\xe1t\xe9k"),e.qZA()()(),e.YNc(54,w,2,0,"ng-template",13),e.YNc(55,U,2,0,"ng-template",14),e.YNc(56,q,2,0,"ng-template",15),e.qZA()()}2&t&&(e.xp6(1),e.Q6J("linear",!0),e.xp6(2),e.Q6J("completed",!1),e.xp6(9),e.Q6J("completed",!1),e.xp6(3),e.AsE("Szint: ",s.level,"/",s.maxLevel,""),e.xp6(2),e.hij("Neh\xe9zs\xe9g: ",s.difficulty,""),e.xp6(2),e.hij("Pontsz\xe1m: ",s.score,""),e.xp6(2),e.AsE("H\xe1tral\xe9v\u0151 l\xe9p\xe9sek: ",s.lightTiles-s.guesses,"/",s.lightTiles,""),e.xp6(3),e.Q6J("ngForOf",s.squares),e.xp6(7),e.hij("Pontsz\xe1m: ",s.score,""),e.xp6(2),e.hij("Neh\xe9zs\xe9g: ",s.difficulty,""),e.xp6(2),e.hij("Tal\xe1lati ar\xe1ny: ",(s.right/(s.right+s.wrong)).toFixed(2),""),e.xp6(13),e.Q6J("ngForOf",s.scores),e.xp6(2),e.Q6J("routerLink","/games"))},directives:[a.Vq,a.C0,v.G2,_.lW,u.sg,k,m.rH,a.z9,A.Hw],styles:["body[_ngcontent-%COMP%]{min-height:calc(100vh - 104px);height:-moz-fit-content;height:fit-content;max-width:100%;background-color:#101010;text-align:center;padding:15px 0}mat-stepper[_ngcontent-%COMP%]{margin:25px auto;width:60vw;min-height:80vh;background-color:#fffff5;border-radius:32px}  .mat-horizontal-stepper-header{pointer-events:none!important}  .mat-step-header .mat-step-icon-selected{background-color:#000}  .mat-step-header .mat-step-icon-state-done{background-color:#000}.banner[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-bottom:30px;width:50%;border-radius:16px}ul[_ngcontent-%COMP%]{background-color:#101010;color:#e6e6e6;border-radius:16px;padding:10px}li[_ngcontent-%COMP%]{display:inline;padding-right:50px}.container[_ngcontent-%COMP%]{background-color:#101010;color:#e6e6e6;overflow:hidden;margin:20px auto auto;padding:25px;border-radius:16px}.tileGrid[_ngcontent-%COMP%]{justify-content:center;display:grid;grid-template-columns:5vw 5vw 5vw 5vw 5vw 5vw 5vw 5vw;grid-auto-rows:5vw;grid-gap:5px}app-tile[_ngcontent-%COMP%]{cursor:pointer}.rules[_ngcontent-%COMP%]{text-align:center}h2[_ngcontent-%COMP%]{text-align:center;font-size:xx-large}table[_ngcontent-%COMP%]{width:80%;border:1px solid #ddd;padding:8px;border-radius:16px;margin:auto auto 20px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}"]}),i})(),O=(()=>{class i{constructor(t){this.dialog=t}closeDialog(){this.dialog.closeAll()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["memory-matrix-dialog"]],decls:19,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Mem\xf3ria M\xe1trix"),e.qZA(),e.TgZ(2,"div",1),e._uU(3,"A j\xe1t\xe9k 5/10/15 k\xf6rb\u0151l \xe1ll."),e.qZA(),e.TgZ(4,"div",1),e._uU(5,"Minden k\xf6r kezdet\xe9n a mez\u0151k egy r\xe9sze s\xe1rga sz\xednre 3 m\xe1sodpercre, ezeket a n\xe9gyzeteket meg kell jegyezni."),e.qZA(),e.TgZ(6,"div",1),e._uU(7,"A 3 m\xe1sodperc letelte ut\xe1n r\xe1 kell kattintani azokra a mez\u0151kre, amelyek kor\xe1bban ki lettek emelve."),e.qZA(),e.TgZ(8,"div",1),e._uU(9,"Minden k\xf6rben annyi tipp \xe1ll rendelkez\xe9sre, amennyi a kiemelt n\xe9gyzetek sz\xe1ma."),e.qZA(),e.TgZ(10,"div",1),e._uU(11,"A megtal\xe1lt mez\u0151k 100 pontot \xe9rnek, a kihagyottak -100 pontot a k\xf6r v\xe9g\xe9n."),e.qZA(),e.TgZ(12,"div",1),e._uU(13,"Ha a j\xe1t\xe9kos elhaszn\xe1lta az \xf6sszes tippj\xe9t megjelennek a kihagyott mez\u0151k, majd p\xe1r m\xe1sodperc m\xfalva kezd\u0151dik a k\xf6vetkez\u0151 k\xf6r."),e.qZA(),e.TgZ(14,"div",1),e._uU(15,"Az utols\xf3 k\xf6r ut\xe1n a j\xe1t\xe9k v\xe9get \xe9r \xe9s a j\xe1t\xe9kos megtekintheti a v\xe9gs\u0151 pontsz\xe1m\xe1t."),e.qZA(),e.TgZ(16,"div",2)(17,"button",3),e.NdJ("click",function(){return s.closeDialog()}),e._uU(18,"Bez\xe1r\xe1s"),e.qZA()())},styles:["button[_ngcontent-%COMP%] {\n        text-align: center;\n        text-decoration: none;\n        font-size: 14px;\n        margin-top: 10px;\n        padding: 10px;\n        transition-duration: 0.4s;\n        cursor: pointer;\n        border-radius: 16px;\n        background-color: #ffc107;\n    }"]}),i})();const P=[{path:"",component:z}];let S=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.Bz.forChild(P)],m.Bz]}),i})(),F=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez,S,p.q]]}),i})()},3038:(f,d,r)=>{r.d(d,{Y:()=>m});var u=r(5e3),p=r(6185);let m=(()=>{class e{constructor(n){this.afs=n,this.dbPath="scores",this.scoresRef=n.collection(this.dbPath)}get(n){return this.scoresRef.doc(n).get()}getAll(){return this.scoresRef}getUserScores(n,a){return this.scoresRef.ref.where("userEmail","==",n).where("game","==",a).orderBy("score","desc").orderBy("date").limit(10).get()}getAllScores(n,a){return this.scoresRef.ref.where("userEmail","==",n).where("game","==",a).get()}getBestScore(n){return this.scoresRef.ref.where("game","==",n).orderBy("score","desc").limit(1).get()}create(n){return this.scoresRef.add(Object.assign({},n))}}return e.\u0275fac=function(n){return new(n||e)(u.LFG(p.ST))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);