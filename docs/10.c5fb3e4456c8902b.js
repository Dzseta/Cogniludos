"use strict";(self.webpackChunkcogniludos=self.webpackChunkcogniludos||[]).push([[10],{9010:(O,p,s)=>{s.r(p),s.d(p,{SequenceModule:()=>A});var h=s(9808),m=s(3868),l=s(1402),e=s(5e3),g=s(8966),f=s(3038),d=s(5615),b=s(9224),q=s(7423),c=s(3737),x=s(8099);const _=["dropListRef"];function k(o,r){if(1&o&&(e.TgZ(0,"th",22),e._uU(1),e.qZA()),2&o){const t=r.$implicit,n=e.oxw();e.Q6J("cdkDragData",t)("cdkDragDisabled",!n.isPlayable),e.xp6(1),e.Oqu(t.number)}}function Z(o,r){if(1&o&&(e.TgZ(0,"th",23),e._uU(1),e.qZA()),2&o){const t=r.$implicit,n=e.oxw();e.Jzz("background-color:",n.borderColors[n.playerSequence.indexOf(t)],""),e.Q6J("cdkDragDisabled",!0),e.xp6(1),e.Oqu(t.number)}}function S(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.hij("",n+1,"."),e.xp6(2),e.Oqu(t.score),e.xp6(2),e.Oqu(t.difficulty),e.xp6(2),e.Oqu(t.date)}}function D(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"chrome_reader_mode"),e.qZA())}function M(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"videogame_asset"),e.qZA())}function y(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"list_alt"),e.qZA())}let v=(()=>{class o{constructor(t,n){this.dialog=t,this.scoreService=n,this.potencialNumbers=[],this.sequence=[],this.playerSequence=[],this.origPlayerSequence=[],this.correctSound=new Audio,this.wrongSound=new Audio}ngOnInit(){this.scores=[],this.currentUser=JSON.parse(localStorage.getItem("user")),this.correctSound.src="../../../assets/correct.wav",this.correctSound.load(),this.wrongSound.src="../../../assets/wrong.wav",this.wrongSound.load()}startGame(t){this.scoreService.getAllScores(this.currentUser.email,"sq").then(n=>{n.size<5?(this.difficulty="k\xf6nny\u0171",this.maxLevel=4):n.size<10?(this.difficulty="k\xf6zepes",this.maxLevel=5):(this.difficulty="neh\xe9z",this.maxLevel=6),this.level=0,this.score=0,this.right=0,this.wrong=0,t.selected.completed=!0,t.next(),this.newGame()})}newGame(){switch(this.level<this.maxLevel&&this.level++,this.startingNumber=Math.floor(10*Math.random())+1,this.sequence=[],this.playerSequence=[],this.potencialNumbers=[],this.random=Math.floor(4*Math.random()),this.random){case 0:this.diff=Math.floor(20*Math.random())+1;for(let t=0;t<3+this.level;t++)this.sequence.push({number:this.startingNumber+t*this.diff,id:t});break;case 1:this.diff=Math.floor(4*Math.random())+2;for(let t=0;t<3+this.level;t++)this.sequence.push({number:this.startingNumber*Math.pow(this.diff,t),id:t});break;case 2:this.diff=Math.floor(10*Math.random())+1,this.sequence.push({number:this.startingNumber,id:0}),this.sequence.push({number:this.startingNumber+this.diff,id:1});for(let t=0;t<3+this.level-2;t++)this.sequence.push({number:this.sequence[t].number+this.sequence[t+1].number,id:t+2});break;case 3:this.diff=Math.floor(5*Math.random())+1;for(let t=0;t<3+this.level;t++)this.sequence.push({number:this.startingNumber+t*(t/2+.5)*this.diff,id:t})}this.borderColors=Array(this.sequence.length).fill("white");for(let t=0;t<this.sequence.length;t++)t%2==0?(this.playerSequence.push(this.sequence[t]),this.borderColors[t]="rgb(171,171,171)"):(this.playerSequence.push({number:0,id:99}),this.potencialNumbers.push(this.sequence[t]),this.potencialNumbers.push({number:this.sequence[t].number+Math.floor(20*Math.random())-10,id:this.sequence[t].id+100}));this.potencialNumbers=this.shuffle(this.potencialNumbers),this.origPlayerSequence=[...this.playerSequence],!(this.level>this.maxLevel)&&(this.isPlayable=!0)}confirm(t){if(!this.isPlayable)return;this.isPlayable=!1;let n=0;for(var i=0;i<this.sequence.length;++i)this.sequence[i].number==this.playerSequence[i].number?(i%2!=0&&(n++,this.right++),this.borderColors[i]="green"):(this.wrong++,this.borderColors[i]="red");n===Math.floor(this.sequence.length/2)?this.correctSound.play():this.wrongSound.play(),this.score+=Math.floor(100*n/Math.floor(this.sequence.length/2)),this.level>=this.maxLevel?setTimeout(()=>{const u=new Date;this.scoreService.create({userEmail:this.currentUser.email,game:"sq",score:this.score,difficulty:this.difficulty,date:u.toLocaleDateString()}),this.scoreService.getUserScores(this.currentUser.email,"sq").then(a=>{this.scores=a.docs.map(z=>z.data())}),t.selected.completed=!0,t.next()},3e3):setTimeout(()=>{this.newGame()},3e3)}shuffle(t){let i,n=t.length;for(;0!=n;)i=Math.floor(Math.random()*n),n--,[t[n],t[i]]=[t[i],t[n]];return t}restart(t){t.reset()}openDialog(){this.dialog.open(E)}drop(t){const n=t.previousContainer.data.findIndex(i=>i.id===t.item.data.id);(t.currentIndex-1)%2!=0&&t.container!=t.previousContainer&&(t.container.data[t.currentIndex-1]=JSON.parse(JSON.stringify(t.previousContainer.data[n]))),t.previousContainer.data&&(this.potencialNumbers=this.potencialNumbers.filter(i=>!i.temp))}exited(t){const n=t.container.data.findIndex(i=>i.id===t.item.data.id);this.potencialNumbers.splice(n+1,0,Object.assign(Object.assign({},t.item.data),{temp:!0}))}entered(){this.potencialNumbers=this.potencialNumbers.filter(t=>!t.temp)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.uw),e.Y36(f.Y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sequence"]],viewQuery:function(t,n){if(1&t&&e.Gf(_,7),2&t){let i;e.iGM(i=e.CRH())&&(n.dropListRef=i.first)}},decls:66,vars:17,consts:[[3,"linear"],["stepper",""],["label","Szab\xe1lyok","editable","false","state","rules",3,"completed"],["mat-card-image","","src","../../assets/sqBanner.png","alt","Sorozat bor\xedt\xf3k\xe9p","width","400",1,"banner"],[1,"rules"],["mat-button","",3,"click"],["label","Sorozat","editable","false","state","game",3,"completed"],["cdkDropListGroup","",1,"container"],[1,"label"],["cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListSortingDisabled","",1,"list",3,"cdkDropListData","cdkDropListDropped","cdkDropListExited","cdkDropListEntered"],["dropListRef",""],["class","box","cdkDrag","",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"list",3,"cdkDropListData","cdkDropListDropped"],["class","box","cdkDrag","",3,"cdkDragDisabled","style",4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click"],["label","Eredm\xe9nyek","editable","false","state","scores"],[1,"scores"],[4,"ngFor","ngForOf"],["mat-button","",3,"routerLink"],["matStepperIcon","rules"],["matStepperIcon","game"],["matStepperIcon","scores"],["cdkDrag","",1,"box",3,"cdkDragData","cdkDragDisabled"],["cdkDrag","",1,"box",3,"cdkDragDisabled"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"body")(1,"mat-stepper",0,1)(3,"mat-step",2)(4,"h2"),e._uU(5,"Sorozat"),e.qZA(),e._UZ(6,"img",3),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){e.CHM(i);const a=e.MAs(2);return n.startGame(a)}),e._uU(9,"Kezd\xe9s"),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){return n.openDialog()}),e._uU(11,"Szab\xe1lyok"),e.qZA()()(),e.TgZ(12,"mat-step",6)(13,"ul")(14,"li"),e._uU(15),e.qZA(),e.TgZ(16,"li"),e._uU(17),e.qZA(),e.TgZ(18,"li"),e._uU(19),e.qZA()(),e.TgZ(20,"div",7)(21,"table")(22,"div",8),e._uU(23,"LEHETS\xc9GES SZ\xc1MOK"),e.qZA(),e.TgZ(24,"tr",9,10),e.NdJ("cdkDropListDropped",function(a){return n.drop(a)})("cdkDropListExited",function(a){return n.exited(a)})("cdkDropListEntered",function(){return n.entered()}),e.YNc(26,k,2,3,"th",11),e.qZA()(),e.TgZ(27,"table")(28,"tr",12),e.NdJ("cdkDropListDropped",function(a){return n.drop(a)}),e.YNc(29,Z,2,5,"th",13),e.qZA(),e.TgZ(30,"div",8),e._uU(31,"SOROZAT"),e.qZA()(),e.TgZ(32,"button",14),e.NdJ("click",function(){e.CHM(i);const a=e.MAs(2);return n.confirm(a)}),e._uU(33,"V\xe9gleges\xedt"),e.qZA()()(),e.TgZ(34,"mat-step",15)(35,"h2"),e._uU(36,"El\xe9rt eredm\xe9ny:"),e.qZA(),e.TgZ(37,"table",16)(38,"tr")(39,"th"),e._uU(40),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.qZA()()(),e.TgZ(45,"h2"),e._uU(46,"Legjobb eredm\xe9nyek:"),e.qZA(),e.TgZ(47,"table",16)(48,"tr")(49,"th"),e._uU(50,"Helyez\xe9s"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Pontsz\xe1m"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Neh\xe9zs\xe9g"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"D\xe1tum"),e.qZA()(),e.YNc(57,S,9,4,"tr",17),e.qZA(),e.TgZ(58,"div")(59,"button",18),e._uU(60,"J\xe1t\xe9kok men\xfc"),e.qZA(),e.TgZ(61,"button",5),e.NdJ("click",function(){e.CHM(i);const a=e.MAs(2);return n.restart(a)}),e._uU(62,"\xdaj j\xe1t\xe9k"),e.qZA()()(),e.YNc(63,D,2,0,"ng-template",19),e.YNc(64,M,2,0,"ng-template",20),e.YNc(65,y,2,0,"ng-template",21),e.qZA()()}2&t&&(e.xp6(1),e.Q6J("linear",!0),e.xp6(2),e.Q6J("completed",!1),e.xp6(9),e.Q6J("completed",!1),e.xp6(3),e.AsE("Szint: ",n.level,"/",n.maxLevel,""),e.xp6(2),e.hij("Neh\xe9zs\xe9g: ",n.difficulty,""),e.xp6(2),e.hij("Pontsz\xe1m: ",n.score,""),e.xp6(5),e.Q6J("cdkDropListData",n.potencialNumbers),e.xp6(2),e.Q6J("ngForOf",n.potencialNumbers),e.xp6(2),e.Q6J("cdkDropListData",n.playerSequence),e.xp6(1),e.Q6J("ngForOf",n.playerSequence),e.xp6(3),e.Q6J("disabled",!n.isPlayable),e.xp6(8),e.hij("Pontsz\xe1m: ",n.score,""),e.xp6(2),e.hij("Neh\xe9zs\xe9g: ",n.difficulty,""),e.xp6(2),e.hij("Tal\xe1lati ar\xe1ny: ",(n.right/(n.right+n.wrong)).toFixed(2),""),e.xp6(13),e.Q6J("ngForOf",n.scores),e.xp6(2),e.Q6J("routerLink","/games"))},directives:[d.Vq,d.C0,b.G2,q.lW,c.Fd,c.Wj,h.sg,c.Zt,l.rH,d.z9,x.Hw],styles:["body[_ngcontent-%COMP%]{min-height:calc(100vh - 104px);height:-moz-fit-content;height:fit-content;max-width:100%;background-color:#101010;text-align:center;padding:15px 0}mat-stepper[_ngcontent-%COMP%]{margin:25px auto;width:60vw;min-height:80vh;background-color:#fffff5;border-radius:32px}  .mat-horizontal-stepper-header{pointer-events:none!important}  .mat-step-header .mat-step-icon-selected{background-color:#000}  .mat-step-header .mat-step-icon-state-done{background-color:#000}.banner[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-bottom:30px;width:50%;border-radius:16px}ul[_ngcontent-%COMP%]{background-color:#101010;color:#e6e6e6;border-radius:16px;padding:10px}li[_ngcontent-%COMP%]{display:inline;padding-right:50px}.container[_ngcontent-%COMP%]{background-color:#101010;color:#e6e6e6;overflow:hidden;margin:20px auto auto;padding:25px;border-radius:16px}table[_ngcontent-%COMP%]{margin:50px auto 100px}.list[_ngcontent-%COMP%]{border:solid 1px #ccc;background:white;display:flex;flex-direction:row;border-radius:4px;overflow:hidden;width:-moz-fit-content;width:fit-content;min-width:4.5vw;min-height:4.5vw}.box[_ngcontent-%COMP%]{border-right:solid 1px #ccc;border-left:solid 1px #ccc;color:#000000de;align-items:center;cursor:move;background:white;font-size:14px;text-align:center;line-height:4.5vw;width:4.5vw;height:4.5vw}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-preview){transform:none!important}.cdk-drag-placeholder[_ngcontent-%COMP%]{display:none}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.box[_ngcontent-%COMP%]:last-child{border:none}.list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.rules[_ngcontent-%COMP%]{text-align:center}h2[_ngcontent-%COMP%]{text-align:center;font-size:xx-large}.scores[_ngcontent-%COMP%]{width:80%;border:1px solid #ddd;padding:8px;border-radius:16px;margin:auto auto 20px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}.label[_ngcontent-%COMP%]{margin:10px auto;text-align:center}"]}),o})(),E=(()=>{class o{constructor(t){this.dialog=t}closeDialog(){this.dialog.closeAll()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["sequence-dialog"]],decls:17,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Sorozat"),e.qZA(),e.TgZ(2,"div",1),e._uU(3,"A j\xe1t\xe9k 4/5/6 k\xf6rb\u0151l \xe1ll."),e.qZA(),e.TgZ(4,"div",1),e._uU(5,"Minden k\xf6rben megjelenik egy hi\xe1nyos sorozat (lent) a k\xe9perny\u0151n."),e.qZA(),e.TgZ(6,"div",1),e._uU(7,"A rendelkez\xe9sre \xe1ll\xf3 sz\xe1mokat (fent) kell behelyettes\xedteni a megfelel\u0151 helyre, hogy a sorozat helyes legyen."),e.qZA(),e.TgZ(8,"div",1),e._uU(9,"A sorozat hossza minden k\xf6rben n\u0151, minden 2. helyre (a 0-k hely\xe9re) kell egy sz\xe1mot illeszteni."),e.qZA(),e.TgZ(10,"div",1),e._uU(11,"A megfelel\u0151 helyre tett sz\xe1mok pontot \xe9rnek."),e.qZA(),e.TgZ(12,"div",1),e._uU(13,"Az utols\xf3 k\xf6r ut\xe1n a j\xe1t\xe9k v\xe9get \xe9r \xe9s megtekinthet\u0151 a v\xe9gs\u0151 pontsz\xe1m."),e.qZA(),e.TgZ(14,"div",2)(15,"button",3),e.NdJ("click",function(){return n.closeDialog()}),e._uU(16,"Bez\xe1r\xe1s"),e.qZA()())},styles:["button[_ngcontent-%COMP%] {\n        text-align: center;\n        text-decoration: none;\n        font-size: 14px;\n        margin-top: 10px;\n        padding: 10px;\n        transition-duration: 0.4s;\n        cursor: pointer;\n        border-radius: 16px;\n        background-color: #ffc107;\n    }"]}),o})();const C=[{path:"",component:v}];let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.Bz.forChild(C)],l.Bz]}),o})(),A=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[h.ez,T,m.q,c._t]]}),o})()}}]);