"use strict";(self.webpackChunkcogniludos=self.webpackChunkcogniludos||[]).push([[604],{4604:(j,f,a)=>{a.r(f),a.d(f,{SignupModule:()=>O});var s=a(9808),F=a(3868),n=a(3075),m=a(1402),e=a(5e3),E=a(629),l=a(7322),_=a(7531),w=a(4107),T=a(508),v=a(7446),C=a(7423);function x(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Ez a n\xe9v m\xe1r foglalt."),e.qZA())}function S(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"A mez\u0151 nem lehet \xfcres."),e.qZA())}function A(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Helytelen felhaszn\xe1l\xf3n\xe9v."),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Ez az email c\xedm m\xe1r haszn\xe1latban van."),e.qZA())}function b(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Email c\xedm megad\xe1sa "),e.TgZ(2,"strong"),e._uU(3,"k\xf6telez\u0151"),e.qZA()())}function q(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Helytelen email c\xedm"),e.qZA())}function y(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Jelsz\xf3 megad\xe1sa k\xf6telez\u0151"),e.qZA())}function z(t,i){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij("A jelsz\xf3nak legal\xe1bb ",r.minPw," karakterb\u0151l kell \xe1lnia")}}function N(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"K\xe9rj\xfck, er\u0151s\xedtse meg a jelszav\xe1t"),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"A jelszavak nem egyeznek meg"),e.qZA())}function k(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Helytelen d\xe1tum."),e.qZA())}function J(t,i){if(1&t&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&t){const r=i.$implicit;e.Q6J("value",r.value),e.xp6(1),e.hij(" ",r.viewValue," ")}}function M(t,i){if(1&t&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&t){const r=i.$implicit;e.Q6J("value",r.value),e.xp6(1),e.hij(" ",r.viewValue," ")}}const Q=[{path:"",component:(()=>{class t{constructor(r,o){this.router=r,this.authService=o,this.minPw=8,this.genders=[{value:"male",viewValue:"F\xe9rfi"},{value:"female",viewValue:"N\u0151"},{value:"other",viewValue:"Egy\xe9b"}],this.educations=[{value:"nothing",viewValue:"-"},{value:"primary",viewValue:"\xc1ltal\xe1nos iskola"},{value:"vocational",viewValue:"Szakgimn\xe1zium"},{value:"secondary",viewValue:"Gimn\xe1zium"},{value:"collage",viewValue:"F\u0151iskola (Bsc.)"},{value:"university",viewValue:"Egyetem (Msc.)"},{value:"phd",viewValue:"PhD."}],this.passwordMatchValidator=u=>this.signupForm.get("password").value===this.signupForm.get("passwordRe").value?null:{passwordMismatch:!0}}ngOnInit(){this.signupForm=new n.cw({username:new n.NI("",[n.kI.required]),email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.minLength(this.minPw)]),passwordRe:new n.NI("",[n.kI.required]),date:new n.NI("",[n.kI.required]),gender:new n.NI("",[n.kI.required]),education:new n.NI("",[n.kI.required]),terms:new n.NI("",[n.kI.required])}),this.signupForm.addValidators([this.passwordMatchValidator])}onSubmit(){var r,o,u,p,g;if(!this.validateForm())return;let d={username:null===(r=this.signupForm.get("username"))||void 0===r?void 0:r.value,email:null===(o=this.signupForm.get("email"))||void 0===o?void 0:o.value,birthdate:null===(u=this.signupForm.get("date"))||void 0===u?void 0:u.value,gender:null===(p=this.signupForm.get("gender"))||void 0===p?void 0:p.value,education:null===(g=this.signupForm.get("education"))||void 0===g?void 0:g.value,premium:!1,admin:!1};this.authService.userExists(d).then(Y=>{Y.empty?this.authService.getUserByEmail(d.email).then(V=>{var c,h;V.empty?this.authService.signup(null===(c=this.signupForm.get("email"))||void 0===c?void 0:c.value,null===(h=this.signupForm.get("password"))||void 0===h?void 0:h.value,d).then(Z=>{this.router.navigateByUrl("/main")}).catch(Z=>{console.error(Z)}):this.signupForm.get("email").setErrors({usedEmail:!0})}):this.signupForm.get("username").setErrors({usedUsername:!0})})}onPasswordInput(){this.signupForm.hasError("passwordMismatch")?this.signupForm.get("passwordRe").setErrors({passwordMismatch:!0}):this.signupForm.get("passwordRe").setErrors(null)}validateForm(){var r=!0;return(r=(r=(r=(r=(r=(r=(r=r&&this.signupForm.get("username").valid)&&this.signupForm.get("email").valid)&&this.signupForm.get("password").valid)&&this.signupForm.get("passwordRe").valid)&&this.signupForm.get("date").valid)&&this.signupForm.get("gender").valid)&&this.signupForm.get("education").valid)&&this.signupForm.get("terms").valid}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(m.F0),e.Y36(E.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-signup"]],decls:56,vars:16,consts:[["src","../../../favicon.png","alt","LOGO","width","32","height","32",1,"bi","me-2"],[1,"h3","mb-3","fw-normal"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","PeldaNev01","formControlName","username"],[4,"ngIf"],["type","email","matInput","","placeholder","pelda@cim.hu","formControlName","email"],[3,"hintLabel"],["type","password","matInput","","placeholder","Jelszo123","formControlName","password",3,"input"],["hintLabel","Meg kell egyeznie a jelsz\xf3val"],["type","password","matInput","","placeholder","Jelszo123","formControlName","passwordRe",3,"input"],["type","date","matInput","","placeholder","2000.01.01","formControlName","date"],["matInput","","formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","education"],["name","agree","required","","color","primary","formControlName","terms"],["type","submit","mat-raised-button",""],[1,"nav-link","px-2","link-dark",3,"routerLink"],[3,"value"]],template:function(r,o){1&r&&(e.TgZ(0,"main")(1,"section"),e._UZ(2,"img",0),e.TgZ(3,"h1",1),e._uU(4,"Regisztr\xe1ci\xf3"),e.qZA(),e.TgZ(5,"form",2),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(6,"mat-form-field")(7,"mat-label"),e._uU(8,"Felhaszn\xe1l\xf3n\xe9v"),e.qZA(),e._UZ(9,"input",3),e.YNc(10,x,2,0,"mat-error",4),e.YNc(11,S,2,0,"mat-error",4),e.YNc(12,A,2,0,"mat-error",4),e.qZA(),e.TgZ(13,"mat-form-field")(14,"mat-label"),e._uU(15,"Email c\xedm"),e.qZA(),e._UZ(16,"input",5),e.YNc(17,I,2,0,"mat-error",4),e.YNc(18,b,4,0,"mat-error",4),e.YNc(19,q,2,0,"mat-error",4),e.qZA(),e.TgZ(20,"mat-form-field",6)(21,"mat-label"),e._uU(22,"Jelsz\xf3"),e.qZA(),e.TgZ(23,"input",7),e.NdJ("input",function(){return o.onPasswordInput()}),e.qZA(),e.YNc(24,y,2,0,"mat-error",4),e.YNc(25,z,2,1,"mat-error",4),e.qZA(),e.TgZ(26,"mat-form-field",8)(27,"mat-label"),e._uU(28,"Jelsz\xf3 meger\u0151s\xedt\xe9se"),e.qZA(),e.TgZ(29,"input",9),e.NdJ("input",function(){return o.onPasswordInput()}),e.qZA(),e.YNc(30,N,2,0,"mat-error",4),e.YNc(31,U,2,0,"mat-error",4),e.qZA(),e.TgZ(32,"mat-form-field")(33,"mat-label"),e._uU(34,"Sz\xfclet\xe9si d\xe1tum"),e.qZA(),e._UZ(35,"input",10),e.YNc(36,k,2,0,"mat-error",4),e.qZA(),e.TgZ(37,"mat-form-field")(38,"mat-label"),e._uU(39,"Nem"),e.qZA(),e.TgZ(40,"mat-select",11),e.YNc(41,J,2,2,"mat-option",12),e.qZA()(),e.TgZ(42,"mat-form-field")(43,"mat-label"),e._uU(44,"Tanulm\xe1nyok"),e.qZA(),e.TgZ(45,"mat-select",13),e.YNc(46,M,2,2,"mat-option",12),e.qZA()(),e.TgZ(47,"mat-checkbox",14),e._uU(48,"Elfogadom a felhaszn\xe1l\xf3i szerz\u0151d\xe9st."),e.qZA(),e.TgZ(49,"button",15),e._uU(50,"Regisztr\xe1ci\xf3"),e.qZA()(),e.TgZ(51,"p"),e._uU(52,"M\xe1r rendelkezik profillal?"),e.qZA(),e.TgZ(53,"p")(54,"a",16),e._uU(55,"L\xe9pjen be itt."),e.qZA()()()()),2&r&&(e.xp6(5),e.Q6J("formGroup",o.signupForm),e.xp6(5),e.Q6J("ngIf",o.signupForm.get("username").hasError("usedUsername")),e.xp6(1),e.Q6J("ngIf",o.signupForm.get("username").hasError("required")),e.xp6(1),e.Q6J("ngIf",!o.signupForm.get("username").hasError("required")&&!o.signupForm.get("username").hasError("usedUsername")),e.xp6(5),e.Q6J("ngIf",o.signupForm.get("email").hasError("usedEmail")),e.xp6(1),e.Q6J("ngIf",o.signupForm.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",!o.signupForm.get("email").hasError("usedEmail")&&!o.signupForm.get("email").hasError("required")),e.xp6(1),e.MGl("hintLabel","A jelsz\xf3nak legal\xe1bb ",o.minPw," karakterb\u0151l kell \xe1llnia"),e.xp6(4),e.Q6J("ngIf",o.signupForm.get("password").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.signupForm.get("password").hasError("minlength")),e.xp6(5),e.Q6J("ngIf",o.signupForm.get("passwordRe").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.signupForm.get("passwordRe").hasError("passwordMismatch")),e.xp6(5),e.Q6J("ngIf",o.signupForm.get("date").hasError("required")),e.xp6(5),e.Q6J("ngForOf",o.genders),e.xp6(5),e.Q6J("ngForOf",o.educations),e.xp6(8),e.Q6J("routerLink","/login"))},directives:[n._Y,n.JL,n.sg,l.KE,l.hX,_.Nt,n.Fj,n.JJ,n.u,s.O5,l.TO,w.gD,s.sg,T.ey,v.oG,v.e_,n.Q7,C.lW,m.yS],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 104px);height:-moz-fit-content;height:fit-content;max-width:100%;background-color:#101010;color:#fffff5;text-align:center;padding:15px 0}section[_ngcontent-%COMP%]{background-color:#e6e6e6;color:#000;max-width:330px;margin:50px auto;padding:20px;border-radius:32px}input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0;height:15px}input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0;height:15px}h1[_ngcontent-%COMP%]{padding-top:10px}mat-form-field[_ngcontent-%COMP%]{width:300px;padding-bottom:15px}button[_ngcontent-%COMP%]{width:120px;height:40px;background-color:#ffc107;color:#000;border:1px solid black;font-size:16px;margin:10px}p[_ngcontent-%COMP%]{margin:0}"]}),t})()}];let P=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(Q)],m.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,P,F.q,n.u5,n.UX]]}),t})()}}]);