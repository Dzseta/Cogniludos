"use strict";(self.webpackChunkcogniludos=self.webpackChunkcogniludos||[]).push([[716],{1716:(E,g,n)=>{n.r(g),n.d(g,{OddOneOutModule:()=>z});var d=n(9808),h=n(3868),p=n(1402),u=n(5963),m=n(5698),e=n(5e3),c=n(8966),Z=n(3038),f=n(5615),O=n(9224),v=n(7423);let _=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-shape"]],inputs:{value:"value"},decls:1,vars:1,consts:[["mat-card-image","","alt","Alakzat",3,"src"]],template:function(t,s){1&t&&e._UZ(0,"img",0),2&t&&e.s9C("src",s.value,e.LSH)},directives:[O.G2],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}"]}),o})();var k=n(8099),b=n(3160);function A(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"app-shape",16),e.NdJ("click",function(){const i=e.CHM(t).index,l=e.oxw(),j=e.MAs(2);return l.chooseOdd(i,j)}),e.qZA()}2&o&&e.Q6J("value",a.$implicit)}function T(o,a){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&o){const t=a.$implicit,s=a.index;e.xp6(2),e.hij("",s+1,"."),e.xp6(2),e.Oqu(t.score),e.xp6(2),e.Oqu(t.difficulty),e.xp6(2),e.Oqu(t.date)}}function y(o,a){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"chrome_reader_mode"),e.qZA())}function M(o,a){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"videogame_asset"),e.qZA())}function x(o,a){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"list_alt"),e.qZA())}let C=(()=>{class o{constructor(t,s){this.dialog=t,this.scoreService=s,this.shapeList=["../../../assets/oooBlueCircle.png","../../../assets/oooBlueLeftRect.png","../../../assets/oooBlueRedRombus.png","../../../assets/oooBlueRedSquare.png","../../../assets/oooBlueRightRect.png","../../../assets/oooBlueRombus.png","../../../assets/oooBlueSquare.png","../../../assets/oooBlueStar.png","../../../assets/oooBlueTriangle.png","../../../assets/oooRedCircle.png","../../../assets/oooRedLeftRect.png","../../../assets/oooRedRightRect.png","../../../assets/oooRedRombus.png","../../../assets/oooRedSquare.png","../../../assets/oooRedStar.png","../../../assets/oooRedTriangle.png","../../../assets/oooRedYellowRombus.png","../../../assets/oooRedYellowSquare.png","../../../assets/oooYellowBlueRombus.png","../../../assets/oooYellowBlueSquare.png","../../../assets/oooYellowCircle.png","../../../assets/oooYellowLeftRect.png","../../../assets/oooYellowRightRect.png","../../../assets/oooYellowRombus.png","../../../assets/oooYellowSquare.png","../../../assets/oooYellowStar.png","../../../assets/oooYellowTriangle.png"]}ngOnInit(){this.scores=[],this.currentUser=JSON.parse(localStorage.getItem("user")),this.loadImages()}startGame(t){this.scoreService.getAllScores(this.currentUser.email,"ooo").then(s=>{s.size<5?(this.difficulty="k\xf6nny\u0171",this.maxNumberOfShapes=4):s.size<10?(this.difficulty="k\xf6zepes",this.maxNumberOfShapes=5):(this.difficulty="neh\xe9z",this.maxNumberOfShapes=6)}),this.counter=60,this.rows=6,this.columns=8,this.right=0,this.wrong=0,this.score=0,this.shapes=Array(this.rows*this.columns).fill("../../../assets/oooEmpty.png"),t.selected.completed=!0,t.next(),setTimeout(()=>{this.newGame(),this.countDown=(0,u.H)(0,1e3).pipe((0,m.q)(this.counter)).subscribe(()=>{--this.counter,this.counter<=0&&this.endGame(t)})},3e3)}newGame(){this.numberOfShapes=Math.floor(Math.random()*this.maxNumberOfShapes)+1,this.shapes=Array(this.rows*this.columns).fill("../../../assets/oooEmpty.png");let t=Math.floor(Math.random()*this.shapeList.length);this.oddOne=this.shapeList[t];for(let r=0;r<this.numberOfShapes;r++)if(t=Math.floor(Math.random()*this.shapeList.length),this.shapeList[t]===this.oddOne||this.shapes.includes(this.shapeList[t]))r--;else for(let i=0;i<3;i++){let l=Math.floor(Math.random()*this.rows*this.columns);"../../../assets/oooEmpty.png"!==this.shapes[l]?i--:this.shapes[l]=this.shapeList[t]}let s=Math.floor(Math.random()*this.rows*this.columns);this.shapes[s]=this.oddOne}chooseOdd(t,s){"../../../assets/oooEmpty.png"!==this.shapes[t]&&(this.shapes[t]===this.oddOne?(this.score+=100,this.right++):(this.score-=100,this.wrong++),this.newGame())}endGame(t){const s=new Date;this.scoreService.create({userEmail:this.currentUser.email,game:"ooo",score:this.score,difficulty:this.difficulty,date:s.toLocaleDateString()}),this.scoreService.getUserScores(this.currentUser.email,"ooo").then(r=>{this.scores=r.docs.map(i=>i.data())}),t.selected.completed=!0,t.next()}restart(t){this.score=0,t.reset()}loadImages(){for(let t=0;t<this.shapeList.length;t++)(new Image).src=this.shapeList[t]}openDialog(){this.dialog.open(S)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.uw),e.Y36(Z.Y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-odd-one-out"]],decls:56,vars:14,consts:[[3,"linear"],["stepper",""],["label","Szab\xe1lyok","editable","false","state","rules",3,"completed"],["mat-card-image","","src","../../assets/oooBanner.png","alt","Kakukktoj\xe1s bor\xedt\xf3k\xe9p","width","400",1,"banner"],[1,"rules"],["mat-button","",3,"click"],["label","Kakukktoj\xe1s","editable","false","state","game",3,"completed"],[1,"container"],[1,"board"],[3,"value","click",4,"ngFor","ngForOf"],["label","Eredm\xe9nyek","editable","false","state","scores"],[4,"ngFor","ngForOf"],["mat-button","",3,"routerLink"],["matStepperIcon","rules"],["matStepperIcon","game"],["matStepperIcon","scores"],[3,"value","click"]],template:function(t,s){if(1&t){const r=e.EpF();e.TgZ(0,"body")(1,"mat-stepper",0,1)(3,"mat-step",2)(4,"h2"),e._uU(5,"Kakukktoj\xe1s"),e.qZA(),e._UZ(6,"img",3),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){e.CHM(r);const l=e.MAs(2);return s.startGame(l)}),e._uU(9,"Kezd\xe9s"),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){return s.openDialog()}),e._uU(11,"Szab\xe1lyok"),e.qZA()()(),e.TgZ(12,"mat-step",6)(13,"ul")(14,"li"),e._uU(15),e.ALo(16,"formatTime"),e.qZA(),e.TgZ(17,"li"),e._uU(18),e.qZA(),e.TgZ(19,"li"),e._uU(20),e.qZA()(),e.TgZ(21,"div",7)(22,"div",8),e.YNc(23,A,1,1,"app-shape",9),e.qZA()()(),e.TgZ(24,"mat-step",10)(25,"h2"),e._uU(26,"El\xe9rt eredm\xe9ny:"),e.qZA(),e.TgZ(27,"table")(28,"tr")(29,"th"),e._uU(30),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.qZA()()(),e.TgZ(35,"h2"),e._uU(36,"Legjobb eredm\xe9nyek:"),e.qZA(),e.TgZ(37,"table")(38,"tr")(39,"th"),e._uU(40,"Helyez\xe9s"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Pontsz\xe1m"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Neh\xe9zs\xe9g"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"D\xe1tum"),e.qZA()(),e.YNc(47,T,9,4,"tr",11),e.qZA(),e.TgZ(48,"div")(49,"button",12),e._uU(50,"J\xe1t\xe9kok men\xfc"),e.qZA(),e.TgZ(51,"button",5),e.NdJ("click",function(){e.CHM(r);const l=e.MAs(2);return s.restart(l)}),e._uU(52,"\xdaj j\xe1t\xe9k"),e.qZA()()(),e.YNc(53,y,2,0,"ng-template",13),e.YNc(54,M,2,0,"ng-template",14),e.YNc(55,x,2,0,"ng-template",15),e.qZA()()}2&t&&(e.xp6(1),e.Q6J("linear",!0),e.xp6(2),e.Q6J("completed",!1),e.xp6(9),e.Q6J("completed",!1),e.xp6(3),e.hij("H\xe1tral\xe9v\u0151 id\u0151: ",e.lcZ(16,12,s.counter),""),e.xp6(3),e.hij("Neh\xe9zs\xe9g: ",s.difficulty,""),e.xp6(2),e.hij("Pontsz\xe1m: ",s.score,""),e.xp6(3),e.Q6J("ngForOf",s.shapes),e.xp6(7),e.hij("Pontsz\xe1m: ",s.score,""),e.xp6(2),e.hij("Neh\xe9zs\xe9g: ",s.difficulty,""),e.xp6(2),e.hij("Tal\xe1lati ar\xe1ny: ",(s.right/(s.right+s.wrong)).toFixed(2),""),e.xp6(13),e.Q6J("ngForOf",s.scores),e.xp6(2),e.Q6J("routerLink","/games"))},directives:[f.Vq,f.C0,O.G2,v.lW,d.sg,_,p.rH,f.z9,k.Hw],pipes:[b.Q],styles:["body[_ngcontent-%COMP%]{min-height:calc(100vh - 104px);height:-moz-fit-content;height:fit-content;max-width:100%;background-color:#101010;text-align:center;padding:15px 0}mat-stepper[_ngcontent-%COMP%]{margin:25px auto;width:60vw;min-height:80vh;background-color:#fffff5;border-radius:32px}  .mat-horizontal-stepper-header{pointer-events:none!important}  .mat-step-header .mat-step-icon-selected{background-color:#000}  .mat-step-header .mat-step-icon-state-done{background-color:#000}.banner[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-bottom:30px;width:50%;border-radius:16px}ul[_ngcontent-%COMP%]{background-color:#101010;color:#e6e6e6;border-radius:16px;padding:10px}li[_ngcontent-%COMP%]{display:inline;padding-right:50px}.container[_ngcontent-%COMP%]{background-color:#101010;color:#e6e6e6;overflow:hidden;margin:20px auto auto;padding:25px;border-radius:16px}.board[_ngcontent-%COMP%]{justify-content:center;display:grid;grid-template-columns:3vw 3vw 3vw 3vw 3vw 3vw 3vw 3vw;grid-auto-rows:3vw;grid-gap:20px}app-shape[_ngcontent-%COMP%]{cursor:pointer}.rules[_ngcontent-%COMP%]{text-align:center}h2[_ngcontent-%COMP%]{text-align:center;font-size:xx-large}table[_ngcontent-%COMP%]{width:80%;border:1px solid #ddd;padding:8px;border-radius:16px;margin:auto auto 20px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}"]}),o})(),S=(()=>{class o{constructor(t){this.dialog=t}closeDialog(){this.dialog.closeAll()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["odd-one-out-dialog"]],decls:19,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Kakukktoj\xe1s"),e.qZA(),e.TgZ(2,"div",1),e._uU(3,"A j\xe1t\xe9k 60 m\xe1sodpercig tart."),e.qZA(),e.TgZ(4,"div",1),e._uU(5,"Megjelenik a k\xe9perny\u0151n t\xf6bb k\xfcl\xf6nb\xf6z\u0151 form\xe1j\xfa \xe9s sz\xedn\u0171 alakzat."),e.qZA(),e.TgZ(6,"div",1),e._uU(7,"A j\xe1t\xe9kosnak ki kell v\xe1lasztania a kakukktoj\xe1st, azt a form\xe1t amelyikb\u0151l csak 1 van."),e.qZA(),e.TgZ(8,"div",1),e._uU(9,"Ezut\xe1n egy \xfaj alakzatcsoport jelenik meg."),e.qZA(),e.TgZ(10,"div",1),e._uU(11,"A j\xe1t\xe9kos c\xe9lja min\xe9l t\xf6bb kakukktoj\xe1st megtal\xe1lnia az id\u0151 lej\xe1rta el\u0151tt."),e.qZA(),e.TgZ(12,"div",1),e._uU(13,"A j\xe1t\xe9kos 100 pontot kap minden helyesen eltal\xe1lt alakzat ut\xe1n, 100-at vesz\xedt minden hib\xe1s\xe9rt."),e.qZA(),e.TgZ(14,"div",1),e._uU(15,"Az id\u0151 lej\xe1rt\xe1val a j\xe1t\xe9k v\xe9get \xe9r \xe9s megtekinthet\u0151 a v\xe9gs\u0151 pontsz\xe1m."),e.qZA(),e.TgZ(16,"div",2)(17,"button",3),e.NdJ("click",function(){return s.closeDialog()}),e._uU(18,"Bez\xe1r\xe1s"),e.qZA()())},styles:["button[_ngcontent-%COMP%] {\n        text-align: center;\n        text-decoration: none;\n        font-size: 14px;\n        margin-top: 10px;\n        padding: 10px;\n        transition-duration: 0.4s;\n        cursor: pointer;\n        border-radius: 16px;\n        background-color: #ffc107;\n    }"]}),o})();const w=[{path:"",component:C}];let U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.Bz.forChild(w)],p.Bz]}),o})();var R=n(3208);let z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,U,h.q,R.u]]}),o})()},3038:(E,g,n)=>{n.d(g,{Y:()=>p});var d=n(5e3),h=n(6185);let p=(()=>{class u{constructor(e){this.afs=e,this.dbPath="scores",this.scoresRef=e.collection(this.dbPath)}get(e){return this.scoresRef.doc(e).get()}getAll(){return this.scoresRef}getUserScores(e,c){return this.scoresRef.ref.where("userEmail","==",e).where("game","==",c).orderBy("score","desc").orderBy("date").limit(10).get()}getAllScores(e,c){return this.scoresRef.ref.where("userEmail","==",e).where("game","==",c).get()}getBestScore(e){return this.scoresRef.ref.where("game","==",e).orderBy("score","desc").limit(1).get()}create(e){return this.scoresRef.add(Object.assign({},e))}}return u.\u0275fac=function(e){return new(e||u)(d.LFG(h.ST))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);